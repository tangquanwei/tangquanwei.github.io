---
title: vim 进阶
date: 2023-04-24 11:10:55
tags: 
- Linux
- Vim
---

# vim 进阶

## 开始之前

此时的你已经熟悉vim的基本使用（打开、编辑、保存和退出），但仍然觉得vim用起来别扭。

究其原因，我觉得是现在的我们已经习惯于使用鼠标操作（滑动、点击、长按选择）而vim则使用按键完成鼠标的工作。以至于我们看到一段文章无意识的想用鼠标选择，但是使用vim的我们不得不先动动脑子想想该按那几个按键。这种别扭应该只会存在于不熟悉vim按键的阶段。所谓进阶就是熟悉按键操作克服这种别捏。

要熟悉按键，我们最先想到的也许是去记忆键位，但对于vim那并不是最快捷高效的方式。

vim 的核心概念是**模式编辑**，即按键在不同的模式下作用不同。 你可以在普通模式下浏览文件，在插入模式下插入文本，在可视模式下选择行或块，在命令模式下执行命令等。

和模式编辑紧密相连的概念是 **操作符** 和 **动作**。操作符 指的是开始某个行为， 例如：修改、删除或者选择文本，之后你要用一个 动作 来指定需要操作的文本区域。 例如，删除一个单词，执行 daw （ delete around word），删除3个单词，执行 daw （ delete 3 word）。基本上每个按键都是单词的缩写或者执行的次数，知道这些就能更好的理解按键。

如果你能看见 vim 老司机操作，你会发现他们使用 vim 脚本语言就如同钢琴师弹钢琴一样。 复杂的操作只需要几个按键就能完成。他们甚至不用刻意去想，因为这已经成为肌肉记忆了。 这减少认识负荷并帮助人们专注于实际任务。


## vim 键位

大概看一眼即可

### vim 键位

![](2023-05-07-16-24-23.png)

### 入门版

![](entry1.png)

### 进阶版

![](advanced1.png)

### 现代版

![](morden1.png)

### 文字版

![](text1.png)


## 宏

你可以在 Vim 中录制一系列按键，并把他们存储到寄存器中。对于一些需要临时使用多次的一系列操作，把它们作为宏保存起来会显著地提升效率。对于一些复杂的操作，建议使用 Vim 脚本（vimscript）来实现。

    首先，按下 q，然后按下你想要保存的寄存器，任何小写字母都可以。比如我们来把它保存到 q 这个寄存器中。按下 qq，你会发现命令行里已经显示了 "recording @q"。
    如果你已经录制完成，那么只需要再按一次 q 就可以结束录制。
    如果你想调用刚才录制的宏，只需要 [count]@q
    如果你想调用上一次使用的宏，只需要 [count]@@